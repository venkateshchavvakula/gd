(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{AU3l:function(e,t,i){"use strict";i.r(t),i.d(t,"TestimonialsModule",function(){return y});var n=i("ofXK"),a=i("tyNb"),s=i("3Pt+"),r=i("fXoL"),o=i("c1R7"),l=i("JqCM"),c=i("kmnG"),b=i("qFsG");function m(e,t){1&e&&(r.Ub(0,"mat-error"),r.Dc(1," Please Enter Name "),r.Tb())}function u(e,t){1&e&&(r.Ub(0,"mat-error"),r.Dc(1," Please Enter Review "),r.Tb())}function d(e,t){if(1&e&&r.Pb(0,"img",21),2&e){const e=r.fc();r.lc("src",null==e.Testimonial||null==e.Testimonial.value?null:e.Testimonial.value.image,r.vc)}}let p=(()=>{class e{constructor(e,t,i,n,a,s){this.formBuilder=e,this.apiService=t,this.router=i,this.route=n,this.spinner=a,this.location=s,this.title="Create"}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.Testimonial=this.formBuilder.group({name:["",[s.r.required]],review:["",[s.r.required]],image:["",[s.r.required]],status:[!0,[s.r.required]]}),this.id&&(this.spinner.show(),this.apiService.getTestimonialById(this.id).subscribe(e=>{if(this.spinner.hide(),e.data){let t=e.data;this.Testimonial.patchValue({name:t.name,review:t.review,image:t.image})}},e=>{this.spinner.hide(),console.log(e)}))}onSubmit(){console.log(this.Testimonial),this.Testimonial.valid&&!this.id?(this.spinner.show(),this.apiService.createTestimonial(this.Testimonial.value).subscribe(e=>{this.navigateBack()},e=>{this.spinner.hide()})):this.Testimonial.valid&&this.id&&(this.spinner.show(),this.apiService.updateTestimonial(this.id,this.Testimonial.value).subscribe(e=>{this.navigateBack()},e=>{this.spinner.hide(),console.log(e)}))}navigateBack(){this.spinner.hide(),this.location.back()}onDrop(e){var t=["image/png","image/jpg","image/jpeg"],i=e.dataTransfer.files[0];if(console.log(t.includes(i.type)),t.includes(i.type)){var n=new FileReader;n.onload=e=>{this.Testimonial.patchValue({image:n.result})},n.readAsDataURL(i)}e.preventDefault()}onDragOver(e){e.stopPropagation(),e.preventDefault()}openimage(){document.getElementById("image").click()}uploadImage(e){if(e&&e[0]){var t=new FileReader;t.onload=e=>{this.Testimonial.patchValue({image:t.result})},t.readAsDataURL(e[0])}}}return e.\u0275fac=function(t){return new(t||e)(r.Ob(s.e),r.Ob(o.a),r.Ob(a.f),r.Ob(a.a),r.Ob(l.c),r.Ob(n.h))},e.\u0275cmp=r.Ib({type:e,selectors:[["app-testimonials-create"]],decls:31,vars:5,consts:[[1,"row"],[1,"col-md-12","d-flex","align-items-center"],[1,"pointer",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"mb-0","ml-2"],[1,"w-100",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100","col-md-12","col-sm-12"],["matInput","","formControlName","name"],[4,"ngIf"],["appearance","outline",1,"w-100","col-md-12"],["matInput","","formControlName","review","rows","6"],[1,"d-flex","w-100","justify-content-between"],[1,"w-100","col-md-6"],[1,"border-upload",3,"drop","dragover"],["width","8%",3,"src",4,"ngIf"],["type","file","accept","image/*","id","image",1,"custom-control-input","d-none",3,"change"],["image",""],[1,"list-browse"],[1,"blue","pointer","pl-2",3,"click"],[1,"col-md-12","text-center","mt-4"],["type","submit",1,"submit-button"],["width","8%",3,"src"]],template:function(e,t){if(1&e){const e=r.Vb();r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"span",2),r.bc("click",function(){return t.navigateBack()}),r.Pb(3,"i",3),r.Tb(),r.Ub(4,"h1",4),r.Dc(5),r.Tb(),r.Tb(),r.Pb(6,"hr"),r.Ub(7,"form",5),r.bc("ngSubmit",function(){return t.onSubmit()}),r.Ub(8,"mat-form-field",6),r.Ub(9,"mat-label"),r.Dc(10,"Person Name"),r.Tb(),r.Pb(11,"input",7),r.Cc(12,m,2,0,"mat-error",8),r.Tb(),r.Ub(13,"mat-form-field",9),r.Ub(14,"mat-label"),r.Dc(15,"Review"),r.Tb(),r.Pb(16,"textarea",10),r.Cc(17,u,2,0,"mat-error",8),r.Tb(),r.Ub(18,"div",11),r.Ub(19,"div",12),r.Ub(20,"div",13),r.bc("drop",function(e){return t.onDrop(e)})("dragover",function(e){return t.onDragOver(e)}),r.Cc(21,d,1,1,"img",14),r.Ub(22,"input",15,16),r.bc("change",function(){r.tc(e);const i=r.pc(23);return t.uploadImage(i.files)}),r.Tb(),r.Ub(24,"span",17),r.Dc(25," Drag Your Images Here or"),r.Tb(),r.Ub(26,"span",18),r.bc("click",function(e){return t.openimage(),e.stopPropagation()}),r.Dc(27,"Browse"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(28,"div",19),r.Ub(29,"button",20),r.Dc(30,"Create this Details"),r.Tb(),r.Tb(),r.Tb(),r.Tb()}2&e&&(r.Cb(5),r.Fc("",t.title," Testimonial"),r.Cb(2),r.lc("formGroup",t.Testimonial),r.Cb(5),r.lc("ngIf",t.Testimonial.get("name").hasError("required")),r.Cb(5),r.lc("ngIf",t.Testimonial.get("review").hasError("required")),r.Cb(4),r.lc("ngIf",null==t.Testimonial||null==t.Testimonial.value?null:t.Testimonial.value.image))},directives:[s.s,s.o,s.h,c.c,c.f,b.b,s.c,s.n,s.g,n.l,c.b],styles:[""]}),e})();var h=i("mYhN"),f=i("0IaG"),g=i("NFeN"),T=i("5vQ/");function v(e,t){if(1&e){const e=r.Vb();r.Ub(0,"app-customtable",13),r.bc("rowselected",function(t){return r.tc(e),r.fc().edit(t)})("rowsdeleted",function(t){return r.tc(e),r.fc().delete(t)}),r.Tb()}if(2&e){const e=r.fc();r.lc("homeTable",e.testimonialsList)}}const w=function(){return["/admin/testimonials/create"]},U=[{path:"",component:(()=>{class e{constructor(e,t,i,n){this.appService=e,this.router=t,this.spinner=i,this.dialog=n,this.testimonialsList=[],this._totalPage=0}ngOnInit(){this.getTestimonials()}getTestimonials(){this.spinner.show(),this.appService.getTestimonials().subscribe(e=>{this.spinner.hide(),e.status&&(this.testimonialsList=e.data.items||[],this._totalPage=e.data.total)},e=>{this.spinner.hide()})}edit(e){this.router.navigate(["admin/testimonials/edit/"+e._id])}delete(e){this.dialog.open(h.a,{height:"270px",width:"450px",panelClass:"deletepopup",data:{title:"Delete Testimonial"}}).afterClosed().subscribe(t=>{t&&this.deleteTestimonial(e._id)})}deleteTestimonial(e){this.spinner.show(),this.appService.deleteTestimonialById(e).subscribe(e=>{this.spinner.hide()})}}return e.\u0275fac=function(t){return new(t||e)(r.Ob(o.a),r.Ob(a.f),r.Ob(l.c),r.Ob(f.b))},e.\u0275cmp=r.Ib({type:e,selectors:[["app-testimonials-listing"]],decls:21,vars:4,consts:[[1,"section-start"],[1,"title","justify-content-between"],[1,"h4","heading-title"],[1,"ml-2"],[1,"filters"],[1,"create-theme",3,"routerLink"],[1,"d-flex","justify-content-between"],[1,"search-wrapper"],[1,"search","d-flex","justify-content-between"],["appearance","outline"],["matInput","","type","text"],["matSuffix",""],[3,"homeTable","rowselected","rowsdeleted",4,"ngIf"],[3,"homeTable","rowselected","rowsdeleted"]],template:function(e,t){1&e&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div"),r.Ub(3,"h4",2),r.Ub(4,"span",3),r.Dc(5),r.Tb(),r.Tb(),r.Pb(6,"hr"),r.Tb(),r.Tb(),r.Ub(7,"div",4),r.Ub(8,"div"),r.Ub(9,"button",5),r.Dc(10," + Create new "),r.Tb(),r.Tb(),r.Ub(11,"div",6),r.Ub(12,"div",7),r.Ub(13,"form",8),r.Ub(14,"mat-form-field",9),r.Ub(15,"mat-label"),r.Dc(16,"Search"),r.Tb(),r.Pb(17,"input",10),r.Ub(18,"mat-icon",11),r.Dc(19,"search"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Cc(20,v,1,1,"app-customtable",12),r.Tb()),2&e&&(r.Cb(5),r.Fc(" Testimonials (",t._totalPage,")"),r.Cb(4),r.lc("routerLink",r.mc(3,w)),r.Cb(11),r.lc("ngIf",null==t.testimonialsList?null:t.testimonialsList.length))},directives:[a.g,s.s,s.o,s.p,c.c,c.f,b.b,g.a,c.h,n.l,T.a],styles:[""]}),e})()},{path:"create",component:p},{path:"edit/:id",component:p}];let D=(()=>{class e{}return e.\u0275mod=r.Mb({type:e}),e.\u0275inj=r.Lb({factory:function(t){return new(t||e)},imports:[[a.j.forChild(U)],a.j]}),e})();var C=i("PCNd");let y=(()=>{class e{}return e.\u0275mod=r.Mb({type:e}),e.\u0275inj=r.Lb({factory:function(t){return new(t||e)},imports:[[n.c,D,C.a]]}),e})()}}]);