(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Fmje:function(t,e,s){"use strict";s.r(e),s.d(e,"ContactRequestsModule",function(){return q});var i=s("ofXK"),a=s("tyNb"),n=s("mYhN"),o=s("fXoL"),r=s("c1R7"),c=s("JqCM"),b=s("0IaG"),u=s("3Pt+"),l=s("kmnG"),d=s("qFsG"),m=s("NFeN"),h=s("5vQ/");function p(t,e){if(1&t){const t=o.Vb();o.Ub(0,"app-customtable",12),o.bc("rowselected",function(e){return o.tc(t),o.fc().edit(e)})("rowsdeleted",function(e){return o.tc(t),o.fc().delete(e)}),o.Tb()}if(2&t){const t=o.fc();o.lc("homeTable",t.contactRequestList)}}let f=(()=>{class t{constructor(t,e,s,i){this.appService=t,this.spinner=e,this.router=s,this.dialog=i,this.contactRequestList=[],this._totalPage=0}ngOnInit(){this.getContactRequestsList()}getContactRequestsList(){this.spinner.show(),this.appService.getContactRequestsList().subscribe(t=>{this.spinner.hide(),t.status&&(this.contactRequestList=t.data.items||[],this._totalPage=t.data.total)},t=>{this.spinner.hide()})}viewRequest(t){this.router.navigate(["/admin/contact-requests/view/"+t])}edit(t){this.router.navigate(["admin/contact-requests/view/"+t._id])}delete(t){this.dialog.open(n.a,{height:"270px",width:"450px",panelClass:"deletepopup",data:{title:"Delete Contact Request"}}).afterClosed().subscribe(e=>{e&&this.deleteContactRequest(t._id)})}deleteContactRequest(t){this.spinner.show(),this.appService.deleteContactRequestById(t).subscribe(t=>{this.spinner.hide()})}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(r.a),o.Ob(c.c),o.Ob(a.f),o.Ob(b.b))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-requests-listing"]],decls:18,vars:2,consts:[[1,"section-start"],[1,"title","justify-content-between"],[1,"h4","heading-title"],[1,"ml-2"],[1,"filters","fliter-modify"],[1,"d-flex","justify-content-between"],[1,"search-wrapper"],[1,"search","d-flex","justify-content-between"],["appearance","outline"],["matInput","","type","text"],["matSuffix",""],[3,"homeTable","rowselected","rowsdeleted",4,"ngIf"],[3,"homeTable","rowselected","rowsdeleted"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div"),o.Ub(3,"h4",2),o.Ub(4,"span",3),o.Dc(5),o.Tb(),o.Tb(),o.Pb(6,"hr"),o.Tb(),o.Tb(),o.Ub(7,"div",4),o.Ub(8,"div",5),o.Ub(9,"div",6),o.Ub(10,"form",7),o.Ub(11,"mat-form-field",8),o.Ub(12,"mat-label"),o.Dc(13,"Search"),o.Tb(),o.Pb(14,"input",9),o.Ub(15,"mat-icon",10),o.Dc(16,"search"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Cc(17,p,1,1,"app-customtable",11),o.Tb()),2&t&&(o.Cb(5),o.Fc(" Contact Requests (",e._totalPage,")"),o.Cb(12),o.lc("ngIf",null==e.contactRequestList?null:e.contactRequestList.length))},directives:[u.s,u.o,u.p,l.c,l.f,d.b,m.a,l.h,i.l,h.a],styles:[".fliter-modify[_ngcontent-%COMP%]{flex-direction:row-reverse}"]}),t})();var v=s("d3UM"),w=s("FKr1");const T=[{path:"",component:f},{path:"view/:id",component:(()=>{class t{constructor(t,e,s,i,a,n){this.formBuilder=t,this.apiService=e,this.router=s,this.route=i,this.spinner=a,this.location=n}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.id||this.navigateBack(),this.contactRequest=this.formBuilder.group({name:["",[u.r.required]],email:["",[u.r.required]],phone:["",[u.r.required]],message:["",[u.r.required]],status:["",[u.r.required]]}),this.spinner.show(),this.apiService.getContactRequestById(this.id).subscribe(t=>{if(this.spinner.hide(),t.status){let e=t.data;this.contactRequest.patchValue({name:e.name,email:e.email,phone:e.phone,message:e.message,status:e.status})}},t=>{this.spinner.hide()})}onSubmit(){if(this.contactRequest.valid){let{status:t}=this.contactRequest.value;this.spinner.show(),this.apiService.updateContactRequest(this.id,{status:t}).subscribe(t=>{this.spinner.hide(),t.status&&this.navigateBack()},t=>{this.spinner.hide()})}}navigateBack(){this.spinner.hide(),this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(u.e),o.Ob(r.a),o.Ob(a.f),o.Ob(a.a),o.Ob(c.c),o.Ob(i.h))},t.\u0275cmp=o.Ib({type:t,selectors:[["app-requests-view"]],decls:35,vars:1,consts:[[1,"row"],[1,"col-md-12","d-flex","align-items-center"],[1,"pointer",3,"click"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"mb-0","ml-2"],[1,"w-100",3,"formGroup","ngSubmit"],["appearance","outline",1,"w-100","col-md-6","col-sm-12"],["matInput","","formControlName","name","readonly",""],["matInput","","formControlName","email","readonly",""],["matInput","","formControlName","phone","readonly",""],["appearance","outline",1,"w-100","col-md-6"],["matInput","","formControlName","message","rows","6","readonly",""],["formControlName","status"],["value","false"],["value","true"],[1,"col-md-12","text-center","mt-4"],["type","submit",1,"submit-button"]],template:function(t,e){1&t&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"span",2),o.bc("click",function(){return e.navigateBack()}),o.Pb(3,"i",3),o.Tb(),o.Ub(4,"h1",4),o.Dc(5,"View Request Info"),o.Tb(),o.Tb(),o.Pb(6,"hr"),o.Ub(7,"form",5),o.bc("ngSubmit",function(){return e.onSubmit()}),o.Ub(8,"mat-form-field",6),o.Ub(9,"mat-label"),o.Dc(10,"Person Name"),o.Tb(),o.Pb(11,"input",7),o.Tb(),o.Ub(12,"mat-form-field",6),o.Ub(13,"mat-label"),o.Dc(14,"Person Email"),o.Tb(),o.Pb(15,"input",8),o.Tb(),o.Ub(16,"mat-form-field",6),o.Ub(17,"mat-label"),o.Dc(18,"Person Phone Number"),o.Tb(),o.Pb(19,"input",9),o.Tb(),o.Ub(20,"mat-form-field",10),o.Ub(21,"mat-label"),o.Dc(22,"Message"),o.Tb(),o.Pb(23,"textarea",11),o.Tb(),o.Ub(24,"mat-form-field",10),o.Ub(25,"mat-label"),o.Dc(26,"Contact Status"),o.Tb(),o.Ub(27,"mat-select",12),o.Ub(28,"mat-option",13),o.Dc(29," Not Contacted "),o.Tb(),o.Ub(30,"mat-option",14),o.Dc(31," Contacted "),o.Tb(),o.Tb(),o.Tb(),o.Ub(32,"div",15),o.Ub(33,"button",16),o.Dc(34,"Update this Details"),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Cb(7),o.lc("formGroup",e.contactRequest))},directives:[u.s,u.o,u.h,l.c,l.f,d.b,u.c,u.n,u.g,v.a,w.h],styles:[""]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[a.j.forChild(T)],a.j]}),t})();var U=s("PCNd");let q=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[i.c,g,U.a]]}),t})()}}]);